---
import { AstroError } from 'astro/errors'

export type ShowcaseGridProps = Props

interface Props {
  columns?: number
  minColumns?: number
}

const { columns = 2, minColumns } = Astro.props

if (minColumns !== undefined && columns < minColumns) {
  throw new AstroError(`The \`starligh-showcases\` grid requires at least ${minColumns} columns.`, 'XXXXXX')
}
---

<div><slot /></div>

<style define:vars={{ columns }}>
  div {
    display: grid;
    gap: 1rem;
  }

  div > :global(*) {
    margin-top: 0 !important;
  }

  @media (min-width: 50rem) {
    div {
      grid-template-columns: repeat(var(--columns, 2), 1fr);
      gap: 1.5rem;
    }
  }
</style>
